
## 评测工具
##### 一句话结论

> **如果已经在用 Qwen / 中文任务 / 私有评测集**：
> 👉 **OpenCompass + 自定义数据集 = 当前最稳妥方案**
> **如果想做“真实对话质量 + LLM裁判”**：
> 👉 **LM-Eval-Harness + MT-Bench / AlpacaEval 风格评测**
> **如果更偏工程/线上质量**：
> 👉 **自建评测框架（Eval + Judge + 回归集）会比任何开源框架都靠谱**


### 1️⃣ OpenCompass


##### 适合谁

* Qwen / 中文模型
* 微调前后对比（Base vs FT）
* 离线跑大规模 benchmark

##### 优点

✅ 中文生态非常全（C-Eval / CMMLU / Gaokao / 中文阅读理解）
✅ 原生支持 Qwen / chat template
✅ 支持自定义数据集（这一点对微调评测**非常重要**）
✅ 配置式，便于复现实验

##### 局限

⚠ 更偏 **“榜单型能力评测”**
⚠ 生成类任务（客服/对话/总结）评估偏弱
⚠ 对 LLM-as-a-Judge 支持有限（需要自己加）

##### 结论

👉 **OpenCompass 是“评测底座”，不是“终点”**



### 2️⃣ LM Evaluation Harness（OpenAI / EleutherAI 系）

##### 适合谁

* 英文 / 通用能力
* 数学、推理、选择题、代码
* 和社区结果横向对齐

##### 优点

✅ 社区最广，benchmark 覆盖非常全
✅ 非常适合**Base vs FT 回归测试**
✅ 脚本稳定、可控

##### 局限

⚠ 中文支持一般
⚠ 对对话类/生成类支持弱
⚠ 对 Qwen 的 chat template 要自己适配

##### 结论

👉 **用它做“能力是否退化”的保险检查非常合适**



### 3️⃣ FastEval / LightEval（轻量 & 工程友好）



##### 适合谁

* 想快速跑评测
* CI / 回归测试
* 不追求大而全 benchmark

##### 优点

✅ 轻量、快
✅ 易于嵌入训练流水线
✅ 很适合做 **微调后回归评测**

##### 局限

⚠ benchmark 数量有限
⚠ 中文任务支持不系统
⚠ 更偏工程而不是研究



### 4️⃣ MT-Bench / AlpacaEval（对话质量评测）

##### 适合谁

* 对话 / 客服 / 助手类模型
* SFT / DPO / RLHF 后质量评估

##### 优点

✅ 事实标准不依赖“唯一正确答案”
✅ LLM-as-a-Judge 的经典方案
✅ 非常适合比较 **微调前 vs 微调后**

##### 局限

⚠ 结果依赖裁判模型
⚠ 成本较高
⚠ 不适合结构化/抽取类任务



### 5️⃣ TruLens / RAGAS（如果有 RAG）

##### 适合谁

* Qwen3-8B + RAG
* 想评测引用正确性、幻觉

##### 优点

✅ 针对幻觉、引用、上下文依赖
✅ 线上可持续评测
✅ 支持 LLM 裁判

##### 局限

⚠ 偏 RAG，不适合纯模型能力
⚠ 配置略复杂



### 6️⃣ 现实中的“最佳实践组合”（强烈推荐）

> **几乎所有真正上线的团队，都会混合用**

| 目标          | 推荐方案                  |
| ----------- | --------------------- |
| 基础能力 / 中文榜单 | OpenCompass           |
| 能力退化回归      | LM-Eval-Harness       |
| 对话质量        | MT-Bench / AlpacaEval |
| 业务效果        | 自建评测集 + LLM裁判         |
| RAG         | RAGAS / TruLens       |



### 🔥 针对 Qwen3-8B 微调的推荐配置

```text
① OpenCompass
   - Base vs FT
   - CMMLU / C-Eval / 自定义业务集

② 自建 Eval Runner
   - JSON / 格式通过率
   - 业务准确率

③ LLM-as-a-Judge（Qwen-Max / GPT-4.1）
   - Pairwise 比较
   - 正确性 / 完整性 / 幻觉 / 格式
```



### 常踩的坑

> ❌ **“我跑了 OpenCompass，分高了，所以微调成功了”**
> ✅ **“OpenCompass + 回归集 + 对话评测 + 线上指标都更好”**
